<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../../favicon.ico">

    <title>Twitch API JS Tutorial</title>

    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.css" rel="stylesheet">

    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <link href="css/ie10-viewport-bug-workaround.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="navbar.css" rel="stylesheet">

    <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
    <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->
    <script src="js/ie-emulation-modes-warning.js"></script>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>

<body>

    <div class="container">

        <!-- Static navbar -->
        <nav class="navbar navbar-default">
            <div class="container-fluid">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="index.html">Twitch API Tutorial</a>
                </div>
                <div id="navbar" class="navbar-collapse collapse">
                    <ul class="nav navbar-nav">
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Dropdown <span class="caret"></span></a>
                            <ul class="dropdown-menu">
                                <li class="dropdown-header">Navigating the Twitch API</li>
                                <li><a href="background.html">A Few Words on API</a></li>
                                <li><a href="twitch-client-id.html">Twitch Client ID</a></li>
                                <li><a href="http-requests.html">HTTP Requests</a></li>
                                <li role="separator" class="divider"></li>
                                <li class="dropdown-header">Embedding Video</li>
                                <li><a href="#">Separated link</a></li>
                                <li><a href="#">One more separated link</a></li>
                            </ul>
                        </li>
                    </ul>
                </div>
                <!--/.nav-collapse -->
            </div>
            <!--/.container-fluid -->
        </nav>

        <!-- Main component for a primary marketing message or call to action -->
        <div class="jumbotron">
            <h1>JSON Response</h1>
            <p>The response from our request is sent back to us in the JavaScript Object Notation (JSON) format. To read more about this format, visit the <a href="http://www.json.org/">official site</a>. We’ll focus on working with the response. Let’s look
                back at our original program.</p>
            <p><pre><code>request.addEventListener("load", function() {
                var response = JSON.parse(request.responseText);
                ...
              }</code></pre></p>

            <p>Specifically, let's look at this line. <code>var response = JSON.parse(request.responseText)</code></p>
            <p>When we our API call is finished, the response is stored as a string in the request object i.e. <code>request.responseText</code></p>
            <p>To convert the string to a JavaScript object, we call the built-in function <code>JSON.parse()</code> and assign it to the variable we will work with.</p>
            <p>If we call <code>console.log(response)</code> at this point, we get the following output in the console.</p>
            <img src="images/json-response-1.jpg"></img>
            <p>This may look overwhelming, but it’s actually quite simple to navigate. For example, if we wanted to get the name of the first stream returned, we access it like so <code>response.streams[0].channel.name</code>
            </p>
            <p>To get this, we start at the root of the object and move outward. In this case, response is the root. Root to streams[0] to channel to name. Visually, the movement through the tree looks like this.</p>
            <img src="images/json-response-2.jpg"></img>
            <p>Now that we're familiar with the format of our response and how to get it, let's look at how to do useful things with it, such as embedding previews of our queries.</p>
            <div class="page-nav">
                <p>
                    <a class="btn btn-lg btn-primary" href="twitch-api-docs.html" role="button">&laquo; Back</a>
                    <a class="btn btn-lg btn-primary" href="embed-preview.html" role="button">Next &raquo;</a>
                </p>
            </div>
        </div>

    </div>
    <!-- /container -->

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script>
        window.jQuery || document.write('<script src="jquery.min.js"><\/script>')
    </script>
    <script src="js/bootstrap.min.js"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="js/ie10-viewport-bug-workaround.js"></script>
</body>

</html>
